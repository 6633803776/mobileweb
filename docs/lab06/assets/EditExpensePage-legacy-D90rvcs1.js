System.register(["./index-legacy-CKT8xVVX.js","./firebase-legacy-BKnc0NKL.js"],function(e,l){"use strict";var a,t,u,n,o,d,r,s,c,i,m,p,f,v,y,g,_,b,V,x,h,k,w,E,U,C,j,q,z,A;return{setters:[e=>{a=e.d,t=e.G,u=e.r,n=e.o,o=e.a,d=e.w,r=e.u,s=e.I,c=e.b,i=e.e,m=e.H,p=e.J,f=e.f,v=e.g,y=e.h,g=e.v,_=e.z,b=e.A,V=e.B,x=e.C,h=e.D,k=e.p,w=e.q,E=e.E,U=e.s},e=>{C=e.e,j=e.d,q=e.g,z=e.u,A=e.f}],execute:function(){e("default",a({__name:"EditExpensePage",setup(e){const l=t(),a=w(),B=l.params.id,D=u({title:"",amount:0,type:"expense",category:"",note:""});n(async()=>{try{const e=C(j,"expenses",B),l=await q(e);l.exists()&&(D.value=l.data())}catch(e){console.error("Error loading document:",e)}});const G=async()=>{try{const e=C(j,"expenses",B);await z(e,{title:D.value.title,amount:Number(D.value.amount),type:D.value.type,category:D.value.category,note:D.value.note}),a.back()}catch(e){console.error("Error updating document:",e)}},H=async()=>{const e=await E.create({header:"ยืนยันการลบ",message:"คุณต้องการลบข้อมูลนี้ใช่หรือไม่?",buttons:[{text:"ยกเลิก",role:"cancel"},{text:"ลบ",role:"destructive",handler:async()=>{await A(C(j,"expenses",B)),a.back()}}]});await e.present()};return(e,l)=>(U(),o(r(s),null,{default:d(()=>[c(r(y),null,{default:d(()=>[c(r(i),null,{default:d(()=>[c(r(m),{slot:"start"},{default:d(()=>[c(r(p),{"default-href":"/tabs/tab1"})]),_:1}),c(r(f),null,{default:d(()=>[...l[5]||(l[5]=[v("แก้ไขรายการ",-1)])]),_:1})]),_:1})]),_:1}),c(r(k),{class:"ion-padding"},{default:d(()=>[c(r(g),null,{default:d(()=>[c(r(_),{label:"ชื่อรายการ",modelValue:D.value.title,"onUpdate:modelValue":l[0]||(l[0]=e=>D.value.title=e)},null,8,["modelValue"])]),_:1}),c(r(g),null,{default:d(()=>[c(r(_),{label:"จำนวนเงิน",type:"number",modelValue:D.value.amount,"onUpdate:modelValue":l[1]||(l[1]=e=>D.value.amount=e)},null,8,["modelValue"])]),_:1}),c(r(g),null,{default:d(()=>[c(r(b),{label:"ประเภท",modelValue:D.value.type,"onUpdate:modelValue":l[2]||(l[2]=e=>D.value.type=e),interface:"popover"},{default:d(()=>[c(r(V),{value:"income"},{default:d(()=>[...l[6]||(l[6]=[v("รายรับ",-1)])]),_:1}),c(r(V),{value:"expense"},{default:d(()=>[...l[7]||(l[7]=[v("รายจ่าย",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),c(r(g),null,{default:d(()=>[c(r(_),{label:"หมวดหมู่",modelValue:D.value.category,"onUpdate:modelValue":l[3]||(l[3]=e=>D.value.category=e)},null,8,["modelValue"])]),_:1}),c(r(g),null,{default:d(()=>[c(r(x),{label:"หมายเหตุ",modelValue:D.value.note,"onUpdate:modelValue":l[4]||(l[4]=e=>D.value.note=e)},null,8,["modelValue"])]),_:1}),c(r(h),{expand:"block",class:"ion-margin-top",onClick:G},{default:d(()=>[...l[8]||(l[8]=[v("บันทึกการแก้ไข",-1)])]),_:1}),c(r(h),{expand:"block",color:"danger",class:"ion-margin-top",onClick:H},{default:d(()=>[...l[9]||(l[9]=[v("ลบข้อมูล",-1)])]),_:1})]),_:1})]),_:1}))}}))}}});
