import{d as y,G as I,r as V,o as k,a as w,w as o,u as a,I as B,b as t,e as C,H as E,J as D,f as U,g as s,h as R,v as r,z as p,A as T,B as c,C as _,D as v,p as N,q as S,E as H,s as P}from"./index-HWUZRdth.js";import{e as m,d as i,g as q,u as z,f as A}from"./firebase-7Kggc_bg.js";const O=y({__name:"EditExpensePage",setup(G){const x=I(),f=S(),d=x.params.id,l=V({title:"",amount:0,type:"expense",category:"",note:""});k(async()=>{try{const n=m(i,"expenses",d),e=await q(n);e.exists()&&(l.value=e.data())}catch(n){console.error("Error loading document:",n)}});const b=async()=>{try{const n=m(i,"expenses",d);await z(n,{title:l.value.title,amount:Number(l.value.amount),type:l.value.type,category:l.value.category,note:l.value.note}),f.back()}catch(n){console.error("Error updating document:",n)}},g=async()=>{await(await H.create({header:"ยืนยันการลบ",message:"คุณต้องการลบข้อมูลนี้ใช่หรือไม่?",buttons:[{text:"ยกเลิก",role:"cancel"},{text:"ลบ",role:"destructive",handler:async()=>{await A(m(i,"expenses",d)),f.back()}}]})).present()};return(n,e)=>(P(),w(a(B),null,{default:o(()=>[t(a(R),null,{default:o(()=>[t(a(C),null,{default:o(()=>[t(a(E),{slot:"start"},{default:o(()=>[t(a(D),{"default-href":"/tabs/tab1"})]),_:1}),t(a(U),null,{default:o(()=>[...e[5]||(e[5]=[s("แก้ไขรายการ",-1)])]),_:1})]),_:1})]),_:1}),t(a(N),{class:"ion-padding"},{default:o(()=>[t(a(r),null,{default:o(()=>[t(a(p),{label:"ชื่อรายการ",modelValue:l.value.title,"onUpdate:modelValue":e[0]||(e[0]=u=>l.value.title=u)},null,8,["modelValue"])]),_:1}),t(a(r),null,{default:o(()=>[t(a(p),{label:"จำนวนเงิน",type:"number",modelValue:l.value.amount,"onUpdate:modelValue":e[1]||(e[1]=u=>l.value.amount=u)},null,8,["modelValue"])]),_:1}),t(a(r),null,{default:o(()=>[t(a(T),{label:"ประเภท",modelValue:l.value.type,"onUpdate:modelValue":e[2]||(e[2]=u=>l.value.type=u),interface:"popover"},{default:o(()=>[t(a(c),{value:"income"},{default:o(()=>[...e[6]||(e[6]=[s("รายรับ",-1)])]),_:1}),t(a(c),{value:"expense"},{default:o(()=>[...e[7]||(e[7]=[s("รายจ่าย",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(a(r),null,{default:o(()=>[t(a(p),{label:"หมวดหมู่",modelValue:l.value.category,"onUpdate:modelValue":e[3]||(e[3]=u=>l.value.category=u)},null,8,["modelValue"])]),_:1}),t(a(r),null,{default:o(()=>[t(a(_),{label:"หมายเหตุ",modelValue:l.value.note,"onUpdate:modelValue":e[4]||(e[4]=u=>l.value.note=u)},null,8,["modelValue"])]),_:1}),t(a(v),{expand:"block",class:"ion-margin-top",onClick:b},{default:o(()=>[...e[8]||(e[8]=[s("บันทึกการแก้ไข",-1)])]),_:1}),t(a(v),{expand:"block",color:"danger",class:"ion-margin-top",onClick:g},{default:o(()=>[...e[9]||(e[9]=[s("ลบข้อมูล",-1)])]),_:1})]),_:1})]),_:1}))}});export{O as default};
